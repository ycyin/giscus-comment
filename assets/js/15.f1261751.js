(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{506:function(a,t,s){a.exports=s.p+"assets/img/build-success.7a8c795f.png"},507:function(a,t,s){a.exports=s.p+"assets/img/local-repo.0fd09dec.png"},542:function(a,t,s){"use strict";s.r(t);var n=s(4),e=Object(n.a)({},(function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[n("h3",{attrs:{id:"重现场景"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#重现场景"}},[a._v("#")]),a._v(" 重现场景")]),a._v(" "),n("ol",[n("li",[a._v("在某些地方只提供了一个本地jar包，在Maven中央仓库中下载没有该jar包；")]),a._v(" "),n("li",[a._v("目标jar包只在公司内网私服上有，外网是没有的（表现为"),n("code",[a._v("pom.xml")]),a._v("文件中对应依赖标红），但是你找同事拷贝了一个jar包。")])]),a._v(" "),n("h3",{attrs:{id:"操作前提"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#操作前提"}},[a._v("#")]),a._v(" 操作前提")]),a._v(" "),n("ol",[n("li",[a._v("本地安装好maven环境，并配置好maven环境变量；")]),a._v(" "),n("li",[a._v("有一个需要放到本地仓库的jar文件。")])]),a._v(" "),n("h3",{attrs:{id:"命令操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#命令操作"}},[a._v("#")]),a._v(" 命令操作")]),a._v(" "),n("blockquote",[n("p",[a._v("将jar包安装到本地maven仓库，这样在本地项目的pom.xml中就可以正常引用了。")])]),a._v(" "),n("p",[a._v("这里以阿里云支付宝sdk为例（现在的maven仓库已经有这个jar包了，可直接引用，地址："),n("a",{attrs:{href:"https://mvnrepository.com/artifact/com.alipay.sdk/alipay-sdk-java/",target:"_blank",rel:"noopener noreferrer"}},[a._v(" https://mvnrepository.com/artifact/com.alipay.sdk/alipay-sdk-java/ "),n("OutboundLink")],1),a._v("），将"),n("code",[a._v("alipay-sdk-java-3.0.0.jar")]),a._v("这个放到本地，如：windows桌面。然后执行命令安装到本地：")]),a._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[a._v("mvn install:install-file -Dfile"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Users"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("yyc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Desktop"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("alipay-sdk-java-3.0.0.jar -DgroupId"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("com.alipay.sdk  -DartifactId"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("alipay-sdk-java  -Dversion"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("3.0")]),a._v(".0  -Dpackaging"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("jar\n")])])]),n("p",[a._v("如果拿到的jar同时有pom文件，则可以不用指定"),n("code",[a._v("groupId")]),a._v("，"),n("code",[a._v("artifactId")]),a._v("，"),n("code",[a._v("version")]),a._v(" 因为pom中都有啊！只需要指定jar的位置和pom文件的位置就可以"),n("span",{attrs:{id:"top"}})]),a._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[a._v("mvn install:install-file -Dfile"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("E:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("redisRMI-1.0.0.jar -DpomFile"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("redisRMI-1.0.0.pom  \n")])])]),n("p",[a._v("执行成功，如下图所示：")]),a._v(" "),n("p",[n("img",{attrs:{src:s(506),alt:"执行成功"}})]),a._v(" "),n("p",[a._v("这时候在maven本地仓库中就有相应的jar包，如下图所示：")]),a._v(" "),n("p",[n("img",{attrs:{src:s(507),alt:"本地仓库有了jar包"}})]),a._v(" "),n("p",[a._v("已经添加成功，在pom.xml中使用即可。")]),a._v(" "),n("div",{staticClass:"language-xml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("dependency")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("groupId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("com.alipay.sdk"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("groupId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("artifactId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("alipay-sdk-java"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("artifactId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("version")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("3.0.0"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("version")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("dependency")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])])]),n("h3",{attrs:{id:"拓展"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#拓展"}},[a._v("#")]),a._v(" 拓展")]),a._v(" "),n("p",[a._v("其实我们常用的maven命令除了install还有package、deploy，这三个命令的区别如下：")]),a._v(" "),n("ul",[n("li",[n("p",[n("strong",[a._v("package命令完成了项目编译、单元测试、打包功能")]),a._v("，但没有把打好的可执行jar包（war包或其它形式的包）布署到本地maven仓库和远程maven私服仓库")])]),a._v(" "),n("li",[n("p",[n("strong",[a._v("install命令完成了项目编译、单元测试、打包功能，同时把打好的可执行jar包（war包或其它形式的包）布署到本地maven仓库")]),a._v("，但没有布署到远程maven私服仓库")])]),a._v(" "),n("li",[n("p",[n("strong",[a._v("deploy命令完成了项目编译、单元测试、打包功能，同时把打好的可执行jar包（war包或其它形式的包）布署到本地maven仓库和远程maven私服仓库（"),n("span",{staticStyle:{color:"blue"}},[a._v("需要在本地maven的settings.xml中配置Server")]),a._v("）")])]),a._v(" "),n("p",[a._v("settings文件：")]),a._v(" "),n("div",{staticClass:"language-xml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[a._v("  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("servers")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("server")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("id")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("nexushost.y.y"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("id")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("\x3c!----\x3e")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("username")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("ycyin"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("username")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("password")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("123qwweq"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("password")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("server")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("servers")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])])]),n("p",[a._v("命令：("),n("a",{attrs:{href:"#top"}},[a._v("同样的，如果有pom文件则无需指定"),n("code",[a._v("groupId")]),a._v("，"),n("code",[a._v("artifactId")]),a._v("，"),n("code",[a._v("version")])]),a._v(")")]),a._v(" "),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[a._v("mvn deploy:deploy-file -DgroupId"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("com.yyc -DartifactId"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("yyc-demo -Dversion"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("2.5")]),a._v(".0-SNAPSHOT -Dpackaging"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("jar -Dfile"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("E:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("yyc-demo-2.5.0-SNAPSHOT.jar -Durl"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("http://nexushost.y.y/repository/maven-snapshots/ -DrepositoryId"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("nexushost.y.y -s D:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("devEnv"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("apache-maven-3.6.3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("conf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("settings.xml -DupdateReleaseInfo"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("true\n")])])])])]),a._v(" "),n("p",[n("span",{staticStyle:{color:"red"}},[a._v("另外：一般执行命令加上clean，以生成新的jar包免受之前旧文件影响。")]),a._v("如打包使用的命令就为："),n("code",[a._v("mvn clean package")])]),a._v(" "),n("p",[a._v("或者也可以加上参数"),n("code",[a._v("-Djar.forceCreation")]),a._v("生成全新的jar包，如："),n("code",[a._v("mvn package -Djar.forceCreation")]),a._v("。")])])}),[],!1,null,null,null);t.default=e.exports}}]);