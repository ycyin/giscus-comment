(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{499:function(a,t,s){"use strict";s.r(t);var n=s(4),e=Object(n.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h3",{attrs:{id:"重现场景"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#重现场景"}},[a._v("#")]),a._v(" 重现场景")]),a._v(" "),s("ol",[s("li",[a._v("在某些地方只提供了一个本地jar包，在Maven中央仓库中下载没有该jar包；")]),a._v(" "),s("li",[a._v("目标jar包只在公司内网私服上有，外网是没有的（表现为"),s("code",[a._v("pom.xml")]),a._v("文件中对应依赖标红），但是你找同事拷贝了一个jar包。")])]),a._v(" "),s("h3",{attrs:{id:"操作前提"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#操作前提"}},[a._v("#")]),a._v(" 操作前提")]),a._v(" "),s("ol",[s("li",[a._v("本地安装好maven环境，并配置好maven环境变量；")]),a._v(" "),s("li",[a._v("有一个需要放到本地仓库的jar文件。")])]),a._v(" "),s("h3",{attrs:{id:"命令操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#命令操作"}},[a._v("#")]),a._v(" 命令操作")]),a._v(" "),s("blockquote",[s("p",[a._v("将jar包安装到本地maven仓库，这样在本地项目的pom.xml中就可以正常引用了。")])]),a._v(" "),s("p",[a._v("这里以阿里云支付宝sdk为例（现在的maven仓库已经有这个jar包了，可直接引用，地址："),s("a",{attrs:{href:"https://mvnrepository.com/artifact/com.alipay.sdk/alipay-sdk-java/",target:"_blank",rel:"noopener noreferrer"}},[a._v(" https://mvnrepository.com/artifact/com.alipay.sdk/alipay-sdk-java/ "),s("OutboundLink")],1),a._v("），将"),s("code",[a._v("alipay-sdk-java-3.0.0.jar")]),a._v("这个放到本地，如：windows桌面。然后执行命令安装到本地：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("mvn install:install-file -Dfile"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("C:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Users"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("yyc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Desktop"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("alipay-sdk-java-3.0.0.jar -DgroupId"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("com.alipay.sdk  -DartifactId"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("alipay-sdk-java  -Dversion"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3.0")]),a._v(".0  -Dpackaging"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("jar\n")])])]),s("p",[a._v("执行成功，如下图所示：")]),a._v(" "),s("img",{attrs:{src:a.$withBase("/Maven/local-package-to-local-maven-repository/build-success.png"),alt:"执行成功"}}),a._v(" "),s("p",[a._v("这时候在maven本地仓库中就有相应的jar包，如下图所示：")]),a._v(" "),s("img",{attrs:{src:a.$withBase("/Maven/local-package-to-local-maven-repository/local-repo.png"),alt:"本地仓库有了jar包"}}),a._v(" "),s("p",[a._v("已经添加成功，在pom.xml中使用即可。")]),a._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("dependency")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("com.alipay.sdk"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("alipay-sdk-java"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("3.0.0"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("dependency")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])])]),s("h3",{attrs:{id:"拓展"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#拓展"}},[a._v("#")]),a._v(" 拓展")]),a._v(" "),s("p",[a._v("其实我们常用的maven命令除了install还有package、deploy，这三个命令的区别如下：")]),a._v(" "),s("ul",[s("li",[s("strong",[a._v("package命令完成了项目编译、单元测试、打包功能")]),a._v("，但没有把打好的可执行jar包（war包或其它形式的包）布署到本地maven仓库和远程maven私服仓库")]),a._v(" "),s("li",[s("strong",[a._v("install命令完成了项目编译、单元测试、打包功能，同时把打好的可执行jar包（war包或其它形式的包）布署到本地maven仓库")]),a._v("，但没有布署到远程maven私服仓库")]),a._v(" "),s("li",[s("strong",[a._v("deploy命令完成了项目编译、单元测试、打包功能，同时把打好的可执行jar包（war包或其它形式的包）布署到本地maven仓库和远程maven私服仓库（"),s("span",{staticStyle:{color:"blue"}},[a._v("需要在本地maven的settings.xml中配置Server")]),a._v("）")])])]),a._v(" "),s("p",[s("span",{staticStyle:{color:"red"}},[a._v("另外：一般执行命令加上clean，以生成新的jar包免受之前旧文件影响。")]),a._v("如打包使用的命令就为："),s("code",[a._v("mvn clean package")])]),a._v(" "),s("p",[a._v("或者也可以加上参数"),s("code",[a._v("-Djar.forceCreation")]),a._v("生成全新的jar包，如："),s("code",[a._v("mvn package -Djar.forceCreation")]),a._v("。")])])}),[],!1,null,null,null);t.default=e.exports}}]);