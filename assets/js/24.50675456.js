(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{576:function(s,a,t){s.exports=t.p+"assets/img/mysql-install-20210702090206.c1aa60f3.png"},577:function(s,a,t){s.exports=t.p+"assets/img/mysql-update-password-20210702091905.f60f1bf6.png"},635:function(s,a,t){"use strict";t.r(a);var r=t(4),e=Object(r.a)({},(function(){var s=this,a=s.$createElement,r=s._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[r("h2",{attrs:{id:"前言"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),r("p",[s._v("本篇旨在快速在win10中搭起MySQL环境，使用5.7的zip版本；zip版本是一个压缩包，使用命令安装，可以更快、免注册表安装；官方有提供exe文件包安装的，它会写一堆注册表，还可能因为宿主机环境问题导致不能启动等诸多问题(反正我遇到过)。")]),s._v(" "),r("p",[r("span",{staticStyle:{color:"red"}},[s._v("本篇针对解压版本5.7.18(博主使用的这个版本、在某些低版本/高版本中部分命令可能失效)")])]),s._v(" "),r("h2",{attrs:{id:"安装环境"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#安装环境"}},[s._v("#")]),s._v(" 安装环境")]),s._v(" "),r("ul",[r("li",[s._v("mysql-5.7.18-winx64.zip")]),s._v(" "),r("li",[s._v("windows 10 专业版 20H2")])]),s._v(" "),r("h2",{attrs:{id:"安装和初始化mysql"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#安装和初始化mysql"}},[s._v("#")]),s._v(" 安装和初始化MySQL")]),s._v(" "),r("p",[r("strong",[s._v("下载：")]),s._v(" 点击"),r("a",{attrs:{href:"https://dev.mysql.com/downloads/mysql/5.7.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("MySQL :: Download MySQL Community Server"),r("OutboundLink")],1),s._v("下载，或者百度搜MySQL 5.7 找官方下载地址")]),s._v(" "),r("p",[r("strong",[s._v("安装：")]),s._v(" 解压压缩包，配置"),r("span",{staticStyle:{color:"red"}},[s._v("系统变量(不是用户变量)")]),s._v("path环境变量，然后管理员运行命令提示符cmd   输入"),r("code",[s._v("mysqld -install")]),s._v(" 安装mysql")]),s._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[s._v("mysqld -install\n")])])]),r("p",[r("strong",[s._v("初始化：")]),s._v(" 解压版解压后没有data目录，所以需要初始化生成data目录。使用如下命令：")]),s._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[s._v("mysqld --initialize-insecure --user"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mysql\n")])])]),r("h2",{attrs:{id:"启动mysql"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#启动mysql"}},[s._v("#")]),s._v(" 启动MySQL")]),s._v(" "),r("p",[s._v("管理员命令提示符下使用命令（net start mysql）来启动mysql数据库，前提是你已经完成上面的安装和初始化操作。")]),s._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[s._v("net start mysql\n")])])]),r("p",[r("img",{attrs:{src:t(576),alt:""}})]),s._v(" "),r("p",[s._v("停止mysql服务命令：")]),s._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[s._v("net stop mysql\n")])])]),r("p",[s._v("移除安装命令：")]),s._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[s._v("mysqld -remove\n")])])]),r("p",[s._v("启动时，可能会出现下面的错误：")]),s._v(" "),r("p",[r("span",{staticStyle:{color:"red"}},[s._v("出现无法启动的提示：检查是否已经启动，或者进程中是否有一个mysqld.exe的进程正在运行。")])]),s._v(" "),r("p",[r("span",{staticStyle:{color:"red"}},[s._v("出现10061错误：需要管理员运行cmd 移除安装后重新install ")])]),s._v(" "),r("p",[r("span",{staticStyle:{color:"red"}},[s._v("出现发生系统错误2，系统找不到指定文件：环境变量需要配置到系统变量下而不是用户变量，然后移除安装后重新install。")])]),s._v(" "),r("h2",{attrs:{id:"创建用户名和密码"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#创建用户名和密码"}},[s._v("#")]),s._v(" 创建用户名和密码")]),s._v(" "),r("blockquote",[r("p",[s._v("（新版本5.7 Mysql）")])]),s._v(" "),r("div",{staticClass:"language-sql extra-class"},[r("pre",{pre:!0,attrs:{class:"language-sql"}},[r("code",[r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USER")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[s._v("'用户名'")]),r("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'localhost'")]),s._v(" IDENTIFIED "),r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[s._v("'密码'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n")])])]),r("h2",{attrs:{id:"修改root密码"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#修改root密码"}},[s._v("#")]),s._v(" 修改root密码")]),s._v(" "),r("p",[r("span",{staticStyle:{color:"red"},attrs:{id:"updatePass"}},[s._v("每次修改密码都需要重启服务才能生效")])]),s._v(" "),r("p",[s._v("修改root用户的密码，需要启动mysql后，输入mysql -u root -p回车，显示输入密码，输入密码或直接回车（第一次使用mysql,root没有密码直接回车）就可以登录数据库。然后输入命令use mysql来使用mysql这个数据库，然后尝试使用下面三个方法来修改密码：")]),s._v(" "),r("ul",[r("li",[r("p",[s._v("使用命令")]),s._v(" "),r("div",{staticClass:"language-sql extra-class"},[r("pre",{pre:!0,attrs:{class:"language-sql"}},[r("code",[r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),s._v(" mysql"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" authentication_string"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("password"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[s._v("'123qwe'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" Host "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),r("p",[s._v("新版Mysql已经没有password字段，而是将加密后的用户密码存储于authentication_string字段，所以网上很多方法不行，执行后要重启服务才生效")])]),s._v(" "),r("li",[r("p",[s._v("使用 "),r("code",[s._v("mysqladmin –u用户名–p旧密码 password 新密码")])])]),s._v(" "),r("li",[r("p",[s._v("（新版本Mysql）还不行就试试")]),s._v(" "),r("div",{staticClass:"language-sql extra-class"},[r("pre",{pre:!0,attrs:{class:"language-sql"}},[r("code",[r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" password "),r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" root"),r("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@localhost")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" password"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("‘"),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("123")]),s._v("’"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n")])])]),r("p",[s._v("注：最好手敲，以免符号不对")])])]),s._v(" "),r("p",[r("img",{attrs:{src:t(577),alt:""}})]),s._v(" "),r("h2",{attrs:{id:"忘记root密码"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#忘记root密码"}},[s._v("#")]),s._v(" 忘记root密码")]),s._v(" "),r("blockquote",[r("p",[s._v("跳过数据库连接修改root密码")])]),s._v(" "),r("ol",[r("li",[s._v("管理员运行第一个cmd，输入"),r("code",[s._v("net stop mysql")]),s._v("以关闭mysql服务，再接着输入"),r("code",[s._v("mysqld --skip-grant-tables")]),s._v(" 以跳过密码")]),s._v(" "),r("li",[s._v("保持上一步的cmd不关闭，管理员运行另一个cmd,直接输入"),r("code",[s._v("mysql -u root -p")]),s._v("回车，显示输入密码，直接回车就可以免密码登录")]),s._v(" "),r("li",[s._v("这时你可以在第二个cmd修改root密码了（见"),r("a",{attrs:{href:"#updatePass"}},[s._v("修改root密码")]),s._v("）。")])]),s._v(" "),r("p",[r("span",{staticStyle:{color:"red"}},[s._v("注：")]),s._v("该过程mysql没有net start mysql操作。")]),s._v(" "),r("h2",{attrs:{id:"乱码问题"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#乱码问题"}},[s._v("#")]),s._v(" 乱码问题")]),s._v(" "),r("p",[s._v("在java中连接数据库时，有时为了防止存入的数据乱码，我们常常使用这样的语句：")]),s._v(" "),r("p",[r("code",[s._v("jdbc:mysql://localhost:3306/weibo?useUnicode=true&characterEncoding=UTF8")])]),s._v(" "),r("p",[s._v("最后的characterEncoding就是指定数据库的编码。如何查看和修改数据库的编码，如下：")]),s._v(" "),r("p",[s._v("查看当前数据库编码")]),s._v(" "),r("div",{staticClass:"language-sql extra-class"},[r("pre",{pre:!0,attrs:{class:"language-sql"}},[r("code",[r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" variables "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("like")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[s._v("'character_set_database'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),r("p",[s._v("修改数据库编码(xxx是数据库名)")]),s._v(" "),r("div",{staticClass:"language-sql extra-class"},[r("pre",{pre:!0,attrs:{class:"language-sql"}},[r("code",[r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("alter")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("database")]),s._v(" xxx "),r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CHARACTER")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" gb2312"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),r("h2",{attrs:{id:"更换盘符"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#更换盘符"}},[s._v("#")]),s._v(" 更换盘符")]),s._v(" "),r("p",[s._v("如果数据库需要更换盘符（如：原来在C盘，现在要换到D盘），需要先停止数据库服务，复制粘帖数据库后要执行"),r("code",[s._v("mysqld -remove")]),s._v("卸载，然后执行"),r("code",[s._v("mysqld -install")]),s._v("重新安装即可")]),s._v(" "),r("h2",{attrs:{id:"参考"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[s._v("#")]),s._v(" "),r("em",[s._v("参考：")])]),s._v(" "),r("p",[s._v("本篇经过多次本地安装MySQL经验后记录，原来写在我的博客园，地址："),r("a",{attrs:{href:"https://www.cnblogs.com/hyyq/p/6219083.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("安装mysql数据库中的技巧、错误排查 - 敲代码的小松鼠 - 博客园 (cnblogs.com)"),r("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=e.exports}}]);